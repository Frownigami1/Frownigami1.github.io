<!DOCTYPE html>
<html>

<head>
	<meta charset="ISO-8859-1">
	<link href="style_alt.css" rel="stylesheet" type="text/css">
	<title>Project - Level 2 Workbook Tasks</title>
</head>

<body>
	<header>		
		<nav class="stroke">
			<ul>
				<li><a href="index.html">HOME</a></li>
				<li><a href="portfolio.html">PORTFOLIO</a></li>
				<li><a href="cv.html">CV</a></li>
				<li><a href="projects.html">PROJECTS</a></li>
				<li><a href="about.html">ABOUT</a></li>
				<li><a href="contact.html">CONTACT</a></li>
			<ul>
		</nav>	
	</header>
	
	<h2>JAVASCRIPT EXERCISE BOOK - LEVEL 2 TASKS</h2><br>
	<h4>See console (F12) for more info.</h4>

	<div id="cont1" class="cont">
		<button id="paraBtn" type="button" onclick="addPara()">Add Paragraph</button>
		
		<form id="editForm">
			Enter text in the field below and press the button to change the content of the paragraph you just added. 
			<br><input type="text" id="textEdit" value=""><br>
			<button id="editBtn" type="button" onclick="editPara()">Edit Paragraph</button>
		</form><br>
		<button id="delBtn" type="button" onclick="delPara()">Delete Paragraph</button>
	
		<p>This is a paragraph.</p>
		<p>This is another paragraph.</p>
	</div>
	
	<br><h2>JSON Data</h2>
	<button type="button" id="grabJSON" onClick="buildTable()">Get JSON Data</button><br><br>
	<div id="json">
	
	</div>
	
	<footer>
		<script>
			// Variables
			var divCount = 101;
			var divThree = "Buzz";
			var divFive = "Bizz";
			var x = -6;
			var y = x;
			var z = x;
			var str = "aaabbbcccdddd";
			var char1 = "";
			var chae2 = "";
			var countChar = 0;
			var countTrip = 0;
			
			// Functions
			function getJSON(url) {
				var json_data = JSON.parse(Get(url));
				return json_data;
			}
				
			function Get(url) {
				var httpReq = new XMLHttpRequest();
				httpReq.open("GET",url,false);
				httpReq.send(null);
				return httpReq.responseText;
			}
				
			console.log("Iteration 3 - Fizz Buzz:");
			console.log("--Additional Included--");
			for (var i = 1; i < divCount; i++) {
				if ((i % 3 == 0) && (i % 5 == 0)) {
					console.log(divThree + divFive);
				}
				else if (i % 3 == 0) {
					console.log(divThree);
				}
				else if (i % 5 == 0) {
					console.log(divFive);
				}
				else {
					console.log(i);
				}
			}
			console.log("");
			
			console.log("Iteration 4:");
			console.log("Reducing " + x + " to 1");
			for (var i = 0; i < 999; i++) {
				if (x == 1) {
					console.log(y + " has been reduced to 1");
					console.log("This took " + i + " iterations.");
					break;
				}
				if ((((x / 3) % 1) === 0) && (x != 0)) {
					x = x / 3;
					console.log(x + " (" + z + " / 3)");
					z = x;
				}
				else {
					if (x > 3) {
						x = x - 1;
						console.log(x + " (" + z + " - 1)");
						z = x;
					}
					else {
						x = x + 1;
						console.log(x + " (" + z + " + 1)");
						z = x;
					}
				}
			}
			console.log("");
			
			console.log("Strings 4:");
			for (var i = 0; i < (str.length - 1); i++) {
				if (str[i] == str[i + 1]) {
					countChar++;
					if (countChar > 1) {
						countTrip++;
					}
				}
				else {
					countChar = 0;
				}
			}
			console.log("There are " + countTrip + " triples in " + '"' + str + '"');
			console.log("");
		
			console.log("DOM 1: See page");
			function addPara() {
				var para = document.createElement("p");
				var node = document.createTextNode("This new paragraph has been dynamically added with JavaScript!");
				para.appendChild(node);
				para.id = "extraPara";
				document.getElementById("cont1").appendChild(para);
				document.getElementById("paraBtn").style.visibility = "hidden";
				document.getElementById("editForm").style.visibility = "visible";
				document.getElementById("delBtn").style.visibility = "visible";
			}
			function editPara() {
				document.getElementById("extraPara").innerHTML = document.getElementById("textEdit").value;
			}
			function delPara() {
				var parent = document.getElementById("cont1");
				var child = document.getElementById("extraPara");
				parent.removeChild(child);
				document.getElementById("paraBtn").style.visibility = "visible";
				document.getElementById("editForm").style.visibility = "hidden";
				document.getElementById("delBtn").style.visibility = "hidden";
			}
			console.log("");
			
			function buildTable() {
				console.log("JSON 1: See page");
				document.getElementById("grabJSON").style.visibility = "hidden";
			
				var url = "https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/example.json";
				var json_data = getJSON(url);
				var json_keys = Object.keys(json_data);
				
				
				// Create first table
				var headline = document.createElement("h4");
				var node = document.createTextNode("Superhero Teams");
				headline.appendChild(node);
				document.getElementById("json").appendChild(headline);
				
				var brk = document.createElement("br");
				document.getElementById("json").appendChild(brk);
			
				var jsonTable = document.createElement("table");
				jsonTable.id = "jsonTable1";
				document.getElementById("json").appendChild(jsonTable);
				
				var table0 = document.getElementById("jsonTable1");
				var row0 = table0.insertRow(0);
				var row1 = table0.insertRow(1);
				
				var cell00 = row0.insertCell(0);
				var cell01 = row0.insertCell(1);
				var cell02 = row0.insertCell(2);
				var cell03 = row0.insertCell(3);
				var cell04 = row0.insertCell(4);
				
				var cell10 = row1.insertCell(0);
				var cell11 = row1.insertCell(1);
				var cell12 = row1.insertCell(2);
				var cell13 = row1.insertCell(3);
				var cell14 = row1.insertCell(4);
				
				cell00.innerHTML = json_keys[0];
				cell01.innerHTML = json_keys[1];
				cell02.innerHTML = json_keys[2];
				cell03.innerHTML = json_keys[3];
				cell04.innerHTML = json_keys[4];
				
				cell10.innerHTML = json_data.squadName;
				cell11.innerHTML = json_data.homeTown;
				cell12.innerHTML = json_data.formed;
				cell13.innerHTML = json_data.secretBase;
				cell14.innerHTML = json_data.active;
				
				brk = document.createElement("br");
				document.getElementById("json").appendChild(brk);
				brk = document.createElement("br");
				document.getElementById("json").appendChild(brk);
				
				// Create second table
				json_keys = Object.keys(json_data.members[0]);
				
				headline = document.createElement("h4");
				node = document.createTextNode(json_data.squadName + " team tembers");
				headline.appendChild(node);
				document.getElementById("json").appendChild(headline);
				
				brk = document.createElement("br");
				document.getElementById("json").appendChild(brk);
				
				jsonTable = document.createElement("table");
				jsonTable.id = "jsonTable2";
				document.getElementById("json").appendChild(jsonTable);
				
				var table1 = document.getElementById("jsonTable2");
				var row0 = table1.insertRow(0);
				var row1 = table1.insertRow(1);
				var row2 = table1.insertRow(2);
				var row3 = table1.insertRow(3);
				
				var cell20 = row0.insertCell(0);
				var cell21 = row0.insertCell(1);
				var cell22 = row0.insertCell(2);
				var cell23 = row0.insertCell(3);
				
				var cell30 = row1.insertCell(0);
				var cell31 = row1.insertCell(1);
				var cell32 = row1.insertCell(2);
				var cell33 = row1.insertCell(3);
				
				var cell40 = row2.insertCell(0);
				var cell41 = row2.insertCell(1);
				var cell42 = row2.insertCell(2);
				var cell43 = row2.insertCell(3);
				
				var cell50 = row3.insertCell(0);
				var cell51 = row3.insertCell(1);
				var cell52 = row3.insertCell(2);
				var cell53 = row3.insertCell(3);
				
				cell20.innerHTML = json_keys[0];
				cell21.innerHTML = json_keys[1];
				cell22.innerHTML = json_keys[2];
				cell23.innerHTML = json_keys[3];
				
				cell30.innerHTML = json_data.members[0].name;
				cell31.innerHTML = json_data.members[0].age;
				cell32.innerHTML = json_data.members[0].secretIdentity;
				cell33.innerHTML = json_data.members[0].powers;
				
				cell40.innerHTML = json_data.members[1].name;
				cell41.innerHTML = json_data.members[1].age;
				cell42.innerHTML = json_data.members[1].secretIdentity;
				cell43.innerHTML = json_data.members[1].powers;
				
				cell50.innerHTML = json_data.members[2].name;
				cell51.innerHTML = json_data.members[2].age;
				cell52.innerHTML = json_data.members[2].secretIdentity;
				cell53.innerHTML = json_data.members[2].powers;
			}
			
			
		</script>
	</footer>
</body>

</html>